try :
    from customtkinter import *
except ModuleNotFoundError: 
    import os
    os.system('pip install customtkinter')
    from customtkinter import *
def config(k):
    if entry.get() =='An error occurred' :
        entry.delete(0, "end")
    if k=='bC' :
        entry.delete(0, "end")
    elif len(k)==2 and k[0]=='b' and k[-1].isdigit and (k!='bC') and k!='bx':
        t=entry.get()
        entry.delete(0, "end")
        entry.insert(0,t+k[-1])
    elif len(k)==2 and k[0]=='b' and  ( k[-1]=='+' or  k[-1]=='รท' or  k[-1]=='X' or  k[-1]=='-'  or  k[-1]=='%'   or  k[-1]=='.') :
        t=entry.get()
        entry.delete(0, "end")
        entry.insert(0,t+k[-1])
    elif k=='bx' :
        t=entry.get()
        entry.delete(0, "end")
        entry.insert(0,t[0:-1])
    elif k=='b==' :
        t=entry.get()
        t=t.replace('X','*')
        t=t.replace('รท','/')
        entry.delete(0, "end")
        try :
            entry.insert(0,eval(t))
        except :
            entry.insert(0,'An error occurred')            
root=CTk()
root.title('Calculator')
root.geometry('500x660')
root.resizable(False, False)
canvas=CTkCanvas(root,height=662,width=502,bg='black')
canvas.place(x=-3,y=-3)
root.configure(fg_color='black')
equal=CTkButton(canvas,text='=',command=lambda:config('b=='),corner_radius=1000000000000000,height=50,width=25,fg_color='yellow',hover_color='white',text_color='red',font=('coalition',30))
equal.place(x=370,y=580)
point=CTkButton(canvas,text='.',command=lambda:config('b.'),corner_radius=1000000000000000,height=50,width=25,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
point.place(x=265,y=580)
b0=CTkButton(canvas,command=lambda:config('b0'),text='0',corner_radius=100,height=50,width=140,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
b0.place(x=70,y=580)
plus=CTkButton(canvas,text='+',command=lambda:config('b+'),corner_radius=1000000000000000,height=50,width=25,fg_color='yellow',hover_color='white',text_color='red',font=('coalition',30))
plus.place(x=370,y=470)
b3=CTkButton(canvas,text='3',command=lambda:config('b3'),corner_radius=1000000000000000,height=50,width=25,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
b3.place(x=265,y=470)
b1=CTkButton(canvas,text='1',command=lambda:config('b1'),corner_radius=100,height=50,width=25,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
b1.place(x=70,y=470)
b2=CTkButton(canvas,text='2',command=lambda:config('b2'),corner_radius=100,height=50,width=25,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
b2.place(x=170,y=470)
munas=CTkButton(canvas,text='-',command=lambda:config('b-'),corner_radius=1000000000000000,height=50,width=25,fg_color='yellow',hover_color='white',text_color='red',font=('coalition',30))
munas.place(x=370,y=470-110)
b6=CTkButton(canvas,text='6',command=lambda:config('b6'),corner_radius=1000000000000000,height=50,width=25,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
b6.place(x=265,y=470-110)
b4=CTkButton(canvas,text='4',command=lambda:config('b4'),corner_radius=100,height=50,width=25,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
b4.place(x=70,y=470-110)
b5=CTkButton(canvas,text='5',command=lambda:config('b5'),corner_radius=100,height=50,width=25,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
b5.place(x=170,y=470-110)
into=CTkButton(canvas,text='X',command=lambda:config('bX'),corner_radius=1000000000000000,height=50,width=25,fg_color='yellow',hover_color='white',text_color='red',font=('coalition',30))
into.place(x=370,y=470-110-110)
b9=CTkButton(canvas,text='9',command=lambda:config('b9'),corner_radius=1000000000000000,height=50,width=25,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
b9.place(x=265,y=470-110-110)
b7=CTkButton(canvas,text='7',command=lambda:config('b7'),corner_radius=100,height=50,width=25,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
b7.place(x=70,y=470-110-110)
b8=CTkButton(canvas,text='8',command=lambda:config('b8'),corner_radius=100,height=50,width=25,fg_color='#4B4A4D',hover_color='yellow',text_color='red',font=('coalition',30))
b8.place(x=170,y=470-110-110)
div=CTkButton(canvas,text='รท',command=lambda:config('bรท'),corner_radius=1000000000000000,height=50,width=25,fg_color='yellow',hover_color='white',text_color='red',font=('coalition',30))
div.place(x=370,y=470-110-110-110)
bp=CTkButton(canvas,text='%',command=lambda:config('b%'),corner_radius=1000000000000000,height=50,width=25,fg_color='#B2BEB5',hover_color='yellow',text_color='red',font=('coalition',30))
bp.place(x=265,y=470-110-110-110)
clear_all=CTkButton(canvas,text='C',command=lambda:config('bC'),corner_radius=100,height=50,width=25,fg_color='#B2BEB5',hover_color='yellow',text_color='red',font=('coalition',30))
clear_all.place(x=70,y=470-110-110-110)
cut=CTkButton(canvas,text='X',command=lambda:config('bx'),corner_radius=100,height=50,width=25,fg_color='#B2BEB5',hover_color='yellow',text_color='red',font=('coalition',30))
cut.place(x=170,y=470-110-110-110)
entry=CTkEntry(canvas,justify="center", border_color='black',height=100,width=500,text_color='#FFFFFF',fg_color='transparent',font=('coalition',50))
entry.place(x=3,y=30)
root.mainloop()
